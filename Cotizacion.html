<!--
	Practica 4- Miriam Colino
	Pagina secundaria Cotizacion (API)
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>

    function cargar()
    {

        $.ajax(
            {
            type: 'get',
            url: "https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=REPYY&apikey=GLYG13Y49P0KIKR5",
            success: function(result)
            {
                document.getElementById('demo').innerHTML=(result["Time Series (Daily)"]["2022-02-18"]["1. open"])
                //const myString = JSON.stringify(result)
                //alert(myString)
            }
        });
    }

    function genera_tabla1()
    {

        fetch('https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=REPYY&apikey=GLYG13Y49P0KIKR5')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                crearTabla1(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });

          function crearTabla1(data)
          {

              console.log(data["Time Series (Daily)"]);
              //console.log(JSON.stringify(data));

              var body = document.getElementById('tabla');
              var tabla   = document.createElement("table");
              var tblBody = document.createElement("tbody");

              var hilera_titulo = document.createElement("tr");

              var celda1_titulo = document.createElement("td");
              var celda2_titulo = document.createElement("td");
              var celda3_titulo = document.createElement("td");
              var celda4_titulo = document.createElement("td");
              var celda5_titulo = document.createElement("td");

               var textoCelda1_titulo = document.createTextNode("Day");
               var textoCelda2_titulo = document.createTextNode("Open");
               var textoCelda3_titulo = document.createTextNode("High");
               var textoCelda4_titulo = document.createTextNode("Close");
               var textoCelda5_titulo = document.createTextNode("Volume");

               celda1_titulo.appendChild(textoCelda1_titulo);
               celda2_titulo.appendChild(textoCelda2_titulo);
               celda3_titulo.appendChild(textoCelda3_titulo);
               celda4_titulo.appendChild(textoCelda4_titulo);
               celda5_titulo.appendChild(textoCelda5_titulo);

               hilera_titulo.appendChild(celda1_titulo);
               hilera_titulo.appendChild(celda2_titulo);
               hilera_titulo.appendChild(celda3_titulo);
               hilera_titulo.appendChild(celda4_titulo);
               hilera_titulo.appendChild(celda5_titulo);

               tblBody.appendChild(hilera_titulo);


              for (var i = 0; i < 4; i++) {

                  var hilera = document.createElement("tr");

                  var celda1 = document.createElement("td");

                   var textoCelda1 = document.createTextNode(data["Meta Data"]["1. Information"]);
                   celda1.appendChild(textoCelda1);

                   hilera.appendChild(celda1);

                   tblBody.appendChild(hilera);

                }



              tabla.appendChild(tblBody);
              body.appendChild(tabla);
              tabla.setAttribute("border", "3");
              tabla.style.color = "red";

            }

    }

     function genera_tabla2()
    {

        fetch('https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY&symbol=REPYY&apikey=GLYG13Y49P0KIKR5')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                crearTabla2(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });

          function crearTabla2(data)
          {
              console.log(data["Weekly Time Series"]);

              var body = document.getElementById('tabla');
              var tabla   = document.createElement("table");
              var tblBody = document.createElement("tbody");

              var hilera_titulo = document.createElement("tr");

              var celda1_titulo = document.createElement("td");
              var celda2_titulo = document.createElement("td");
              var celda3_titulo = document.createElement("td");
              var celda4_titulo = document.createElement("td");
              var celda5_titulo = document.createElement("td");

               var textoCelda1_titulo = document.createTextNode("Day");
               var textoCelda2_titulo = document.createTextNode("Open");
               var textoCelda3_titulo = document.createTextNode("High");
               var textoCelda4_titulo = document.createTextNode("Close");
               var textoCelda5_titulo = document.createTextNode("Volume");

               celda1_titulo.appendChild(textoCelda1_titulo);
               celda2_titulo.appendChild(textoCelda2_titulo);
               celda3_titulo.appendChild(textoCelda3_titulo);
               celda4_titulo.appendChild(textoCelda4_titulo);
               celda5_titulo.appendChild(textoCelda5_titulo);

               hilera_titulo.appendChild(celda1_titulo);
               hilera_titulo.appendChild(celda2_titulo);
               hilera_titulo.appendChild(celda3_titulo);
               hilera_titulo.appendChild(celda4_titulo);
               hilera_titulo.appendChild(celda5_titulo);

               tblBody.appendChild(hilera_titulo);


              for (var i = 0; i < 4; i++) {

                  var hilera = document.createElement("tr");

                  var celda1 = document.createElement("td");

                   var textoCelda1 = document.createTextNode(data["Meta Data"]["1. Information"]);
                   celda1.appendChild(textoCelda1);

                   hilera.appendChild(celda1);

                   tblBody.appendChild(hilera);

                }



              tabla.appendChild(tblBody);
              body.appendChild(tabla);
              tabla.setAttribute("border", "3");
              tabla.style.color = "red";

            }

    }
      function genera_tabla3()
      {

          $.ajax(
            {
            type: 'get',
            url: "https://www.alphavantage.co/query?function=TIME_SERIES_MONTHLY&symbol=REPYY&apikey=GLYG13Y49P0KIKR5",
            success: function(result)
            {

                  var body = document.getElementById('tabla');
                  var tabla   = document.createElement("table");
                  var tblBody = document.createElement("tbody");

                  for (var i = 0; i < 2; i++) {

                    var hilera = document.createElement("tr");

                    for (var j = 0; j < 2; j++) {

                      var celda = document.createElement("td");

                      var textoCelda = document.createTextNode(result["Monthly Time Series"]["2022-02-22"]["1. open"]);
                      celda.appendChild(textoCelda);
                      hilera.appendChild(celda);
                    }


                    tblBody.appendChild(hilera);
                  }


                  tabla.appendChild(tblBody);
                  body.appendChild(tabla);
                  tabla.setAttribute("border", "3");
                  tabla.style.color = "red";


            }
        });

      }
     </script>

    <style>
        .derecha {
            margin: 1%;
            position: absolute;
            top=100%
            right: 50%;
            left: 90%;
        }

        footer {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          height: 20px;
        }


	</style>
</head>

<body>

    <div class="derecha">
        <a href="index.html" class="btn btn-info btn-lg">
            <span class="glyphicon glyphicon-home" align="left"></span> Home
        </a>
    </div>

    <div class="container-fluid p-5 text-white text-center" style="background-color:#fa9e56;">
        <div style="position:absolute">
            <img src="https://miriamcol.github.io/Practica4/Resources/logo-repsol-removebg-preview.png" width="40%" height="40%" align="left">
        </div>
        </br></br>

        <h1 style="color:white;">Cotizaci√≥n en Bolsa</h1>
    </div>



    <div class="container" style="text-align: center;">
        <button type="button" class="btn btn-primary btn-lg" onclick="genera_tabla1()" >DIARIA </button>
        <button type="button" class="btn btn-primary btn-lg"  onclick="genera_tabla2()" >SEMANAL</button>
        <button type="button" class="btn btn-primary btn-lg" onclick="genera_tabla3()">MENSUAL</button>
    </div>

    <!--
    <div style="background-image: url('https://miriamcol.github.io/Practica4/Resources/bolsa.jpg');opacity: 0.5; height:100%;">
        <div id="tabla" align="center">

        </div>
    </div>
    -->

    <div class="container">
        <!--
        <img src="https://miriamcol.github.io/Practica4/Resources/bolsa.jpg" style="opacity: 0.5"; alt="Snow" style="width:100%;">
        -->
        <div id="tabla" align="center"></div>
    </div>

    <!--
    <div style="background-image: url('https://miriamcol.github.io/Practica4/Resources/bolsa.jpg');opacity: 0.5; height:100%" >
            hjkfdslfhsdfhsdjkafhkjsdhfjkdsahjkfdsklfsd fsdajklflkdsfhnkjsejknsdjkfnsdjkbfjsdbfhbsd
    </div>
    -->
    <!--
    <img src="https://miriamcol.github.io/Practica4/Resources/bolsa.jpg" alt="Forest" width="100%" height="100%" style="opacity: 0.5";>
    -->


    <footer>
        <nav class="navbar-absolute-bottom text-center" style="background-color: #fa9e56">
            <p style="color:white;">
                <strong>¬°S√≠guenos en Redes Sociales y no te pierdas nada!</strong> <br/><br/>
            </p>
            <a href="https://twitter.com/Repsol" target="_blank">
                <img width="40" height="40" src="https://miriamcol.github.io/Practica4/Resources/TwitterLogo.png" alt="No se pudo encontrar">
            </a>
            <a  href="https://www.instagram.com/repsol/?hl=es" target="_blank">
                <img width="40" height="40" src="https://miriamcol.github.io/Practica4/Resources/InstagramLogo.png" alt="No se pudo encontrar">
            </a>
            <a  href="http://www.facebook.com/guiarepsol" target="_blank">
                <img width="40" height="40" src="https://miriamcol.github.io/Practica4/Resources/FacebookLogo.png" alt="No se pudo encontrar">
            </a>
            <a  href="http://www.linkedin.com/company/repsol" target="_blank">
                <img width="40" height="40" src="https://miriamcol.github.io/Practica4/Resources/LinkedinLogo.png" alt="No se pudo encontrar">
            </a>
            <a href="https://www.youtube.com/repsol" target="_blank">
                <img width="40" height="40" src="https://miriamcol.github.io/Practica4/Resources/YoutubeLogo.png" alt="No se pudo encontrar">
            </a>
        </nav>
    </footer>



</body >

</html>